---
import BaseHead from '@/components/BaseHead.astro';
import QuoteContentRow from '@/components/common/ContentRow/QuoteContentRow.component';
import SunsetFooter from '@/components/layout/Footer/SunsetFooter.component';
import SunsetHeader from '@/components/layout/Header/SunsetHeader.component';
import PostHeading from '@/components/post/PostHeading.component';
import PostNavigationBar from '@/components/post/PostNavigationBar.component';
import { PostType } from '@/components/posts/PostGrid.component';
import { CollectionEntry, getCollection } from 'astro:content';
import { SITE_TITLE, SITE_DESCRIPTION } from '../../consts';

export async function getStaticPaths() {
	const posts = await getCollection(PostType.Introduction);
	return posts.map((post) => ({
		params: { slug: post.slug },
		props: post,
	}));
}
type Props = CollectionEntry<PostType.Introduction>;

const post = Astro.props;
const { Content } = Astro.props.post

const date = post.data.pubDate
---

<!DOCTYPE html>
<html lang="en">
	<head>
		<BaseHead title={post.data.title} description={SITE_DESCRIPTION} />
	</head>
	<body>
		<SunsetHeader client:only currentPage={Astro.url.pathname}/>
		<main>
			
			<PostHeading post={post}/>
			<Content />
			<PostNavigationBar date={date} title={post.data.title}/>
		</main>
		<SunsetFooter />
	</body>
</html>
